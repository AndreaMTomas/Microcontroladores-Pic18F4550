#include p18f4550.inc                ; Include register definition file
   CBLOCK 0X20
      VAR
      RESULTADO
   ENDC
 
   ORG	0X00; DIRECCION 0
   GOTO CONF
   CONF
   CLRF	TRISD; PUERTO D -> SALIDA
   ; PUERTO B A ENTRADA
   MOVLW 0XFF
   MOVWF TRISB  
   MOVWF TRISC
   ; TODOS PINES A DIGITALES
   MOVLW	0X0F
   MOVWF	ADCON1
   CLRF RESULTADO
   CLRF LATD
   CLRF LATB

     INICIO
     	MOVF PORTB, W
	MOVWF VAR	; GUARDARLO EN VAR
	
        PREGUNTAR
     	MOVF PORTC, W
	BTFSC PORTC, 0
	BRA PREGUNTAR
	DESPRESS
	BTFSS PORTC, 0
	BRA DESPRESS
	BRA DECREMENTAR
	
	DECREMENTAR
	MOVF VAR, W
	MOVLW .10
	SUBWF VAR
	BTFSS STATUS, C	; HUBO ACARREO?
	BRA PREGUNTAR
	MOVF VAR, W
	MOVWF PORTD
	GOTO PREGUNTAR
	
END
